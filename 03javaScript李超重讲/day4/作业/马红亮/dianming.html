<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>JS写的随机点名 - 琼台博客</title>
<style>
    #show{
        margin:auto;
        font-size:50px;
        width:180px;
        height:55px;
        border: 2px solid black;
        background:#FFEEFF;
    }

</style>

</head>

<body>
<div style="text-align:center; margin-top:100px;width:100%;">
    <div id="show"></div>
    <div style="margin-top:20px;">
        <input id="bt" style="font-size: 15px;width: 180px;height: 55px" type="button" onclick="action()" value="开始"/>
    </div>
</div>
<script>
    var isRun=true;
    var a = ["张三","李四","王五","","李君","冼瑞建"]
    var a2 = new Array();
    function action(str){
        var s = document.getElementById("bt").value;
        if(s=="开始"){
            isRun=true;
            run();
            document.getElementById("bt").value="结束";
        }else{
            isRun=false;
            document.getElementById("bt").value="开始";
        }
    }
    function run(){
        var i = Math.floor(Math.random() * a.length+ 1)-1;
        document.getElementById("show").innerHTML=a[i];
        if(isRun==false){
            var b =true;
            for(var j in a2){
                if(a2[j]==i){
                    b=false;
                }
            }
            if(b){
                a2[a2.length]=i;
                return;
            }
        }
        setTimeout("run()",100);
    }
</script>
</body>
</html>
